(this.webpackJsonpmywebsite=this.webpackJsonpmywebsite||[]).push([[0],{40:function(e){e.exports=JSON.parse('[{"id":1,"title":"lord of the rings","author":"tolkien","category":"fantasy"},{"id":2,"title":"rapport de brodeck","author":"philippe claudel","category":"novel"},{"id":3,"title":"babayaga","author":"unknown","category":"Child book"},{"id":4,"title":"Tintin","author":"Herg\xe9","category":"Comics"},{"id":5,"title":"batiment C","author":"koba la d","category":"novel"}]')},46:function(e,t,n){},64:function(e,t,n){},70:function(e,t){},72:function(e,t){},88:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),o=n(39),a=n.n(o),i=(n(46),n(16)),l=n(19),u=n(10),d=n(15),s=n.n(d),h=n(41),j=(n(64),n(40)),b=n(0),O=function(e){var t=e.book,n=e.handleEditClick,r=e.handleDeleteClick;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.title}),Object(b.jsx)("td",{children:t.author}),Object(b.jsx)("td",{children:t.category}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{type:"button",onClick:function(e){return n(e,t)},children:"Edit"}),Object(b.jsx)("button",{type:"button",onClick:function(){return r(t.id)},children:"Delete"})]})]})},p=function(e){var t=e.editFormData,n=e.handleEditFormChange,r=e.handleCancelClick;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",required:"required",placeholder:"Enter a title...",name:"title",value:t.title,onChange:n})}),Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",required:"required",placeholder:"Enter an author...",name:"author",value:t.author,onChange:n})}),Object(b.jsx)("td",{children:Object(b.jsx)("input",{type:"text",required:"required",placeholder:"Enter a category...",name:"category",value:t.category,onChange:n})}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{type:"submit",children:"Save"}),Object(b.jsx)("button",{type:"button",onClick:r,children:"Cancel"})]})]})},g=function(){var e=Object(r.useState)(j),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)({title:"",author:"",category:""}),a=Object(u.a)(o,2),d=a[0],g=a[1],x=Object(r.useState)({title:"",author:"",category:""}),f=Object(u.a)(x,2),m=f[0],y=f[1],C=Object(r.useState)(null),v=Object(u.a)(C,2),k=v[0],E=v[1],A=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,r=Object(l.a)({},d);r[t]=n,g(r)},S=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,r=Object(l.a)({},m);r[t]=n,y(r)};var T=function(e,t){e.preventDefault(),E(t.id);var n={title:t.title,author:t.author,category:t.category};y(n)},q=function(){E(null)},D=function(e){var t=Object(i.a)(n),r=n.findIndex((function(t){return t.id===e}));t.splice(r,1),c(t),s()({method:"DELETE",url:"https://rcyg32ptue.execute-api.us-east-2.amazonaws.com/books",data:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:k,title:m.title,author:m.author,category:m.category},r=Object(i.a)(n);r[n.findIndex((function(e){return e.id===k}))]=t,c(r),E(null),s()({method:"POST",url:"https://rcyg32ptue.execute-api.us-east-2.amazonaws.com/books",data:r}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Title"}),Object(b.jsx)("th",{children:"Author"}),Object(b.jsx)("th",{children:"Category"}),Object(b.jsx)("th",{children:"Actions"})]})}),Object(b.jsx)("tbody",{children:n.map((function(e){return Object(b.jsx)(r.Fragment,{children:k===e.id?Object(b.jsx)(p,{editFormData:m,handleEditFormChange:S,handleCancelClick:q}):Object(b.jsx)(O,{book:e,handleEditClick:T,handleDeleteClick:D})})}))})]})}),Object(b.jsx)("h2",{children:"Add a book"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={id:Object(h.a)(),title:d.title,author:d.author,category:d.category},r=[].concat(Object(i.a)(n),[t]);c(r),s()({method:"POST",url:"https://rcyg32ptue.execute-api.us-east-2.amazonaws.com/books",data:r}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:[Object(b.jsx)("input",{type:"text",name:"title",required:"required",placeholder:"Enter a title...",onChange:A}),Object(b.jsx)("input",{type:"text",name:"author",required:"required",placeholder:"Enter an author...",onChange:A}),Object(b.jsx)("input",{type:"text",name:"category",required:"required",placeholder:"Enter a category ...",onChange:A}),Object(b.jsx)("button",{type:"submit",children:"Add"})]})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))},f=n(66).createServer(),m=["http://app.exemple.com","http://autre.exemple.com"];f.on("request",(function(e,t){if(e.headers.origin&&m.includes(e.headers.origin)?t.setHeader("Access-Control-Allow-Origin",e.headers.origin):t.setHeader("Access-Control-Allow-Origin","null"),"OPTIONS"===e.method)return t.setHeader("Access-Control-Allow-Headers","Content-Type, Accept, Origin, Authorization"),t.setHeader("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, PATCH, OPTIONS"),t.end();a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))})),x(),f.listen(8080)}},[[88,1,2]]]);
//# sourceMappingURL=main.dfc22475.chunk.js.map